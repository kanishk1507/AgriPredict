{% extends "base.html" %}

{% block title %}Crop Recommendation - AgriPredict{% endblock %}

{% block content %}
<section class="prediction-container">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="prediction-card">
                    <div class="text-center mb-4">
                        <h2 class="text-plant-primary">
                            <i class="fas fa-search-plus me-3"></i>Smart Crop Recommendation
                        </h2>
                        <p class="text-muted">Get personalized crop suggestions based on your location and farming conditions</p>
                    </div>

                    <form id="crop-recommendation-form">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="rainfall" class="form-label">Expected Annual Rainfall (mm) *</label>
                                <input type="number" class="form-control" id="rainfall" name="rainfall" 
                                       placeholder="e.g., 800" min="100" max="4000" required>
                                <small class="text-muted">Historical average or meteorological forecast</small>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="temperature" class="form-label">Average Temperature (Â°C) *</label>
                                <input type="number" class="form-control" id="temperature" name="temperature" 
                                       placeholder="e.g., 25" min="5" max="50" step="0.1" required>
                                <small class="text-muted">Annual average temperature</small>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="humidity" class="form-label">Average Humidity (%) *</label>
                                <input type="number" class="form-control" id="humidity" name="humidity" 
                                       placeholder="e.g., 70" min="30" max="100" required>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="soil_type" class="form-label">Soil Type *</label>
                                <select class="form-select" id="soil_type" name="soil_type" required>
                                    <option value="">Select Soil Type</option>
                                    <option value="clay">Clay Soil</option>
                                    <option value="sandy">Sandy Soil</option>
                                    <option value="loamy">Loamy Soil</option>
                                    <option value="black">Black Cotton Soil</option>
                                    <option value="red">Red Soil</option>
                                    <option value="alluvial">Alluvial Soil</option>
                                    <option value="laterite">Laterite Soil</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="ph_level" class="form-label">Soil pH Level</label>
                                <input type="number" class="form-control" id="ph_level" name="ph_level" 
                                       placeholder="e.g., 6.5" min="3" max="10" step="0.1" value="7.0">
                                <small class="text-muted">If unknown, leave as 7.0 (neutral)</small>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="season" class="form-label">Preferred Season *</label>
                                <select class="form-select" id="season" name="season" required>
                                    <option value="">Select Season</option>
                                    <option value="kharif">Kharif (June-October)</option>
                                    <option value="rabi">Rabi (November-April)</option>
                                    <option value="zaid">Zaid (April-June)</option>
                                    <option value="annual">Year-round cultivation</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="farm_size" class="form-label">Farm Size (hectares)</label>
                                <input type="number" class="form-control" id="farm_size" name="farm_size" 
                                       placeholder="e.g., 2.5" min="0.1" max="1000" step="0.1" value="1.0">
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="water_availability" class="form-label">Water Availability</label>
                                <select class="form-select" id="water_availability" name="water_availability">
                                    <option value="low">Low (Rain-fed only)</option>
                                    <option value="medium">Medium (Limited irrigation)</option>
                                    <option value="high" selected>High (Good irrigation)</option>
                                    <option value="very_high">Very High (Abundant water)</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="experience_level" class="form-label">Farming Experience</label>
                                <select class="form-select" id="experience_level" name="experience_level">
                                    <option value="beginner">Beginner (0-2 years)</option>
                                    <option value="intermediate" selected>Intermediate (3-10 years)</option>
                                    <option value="advanced">Advanced (10+ years)</option>
                                </select>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="market_preference" class="form-label">Market Preference</label>
                                <select class="form-select" id="market_preference" name="market_preference">
                                    <option value="food_grain">Food Grains (Rice, Wheat)</option>
                                    <option value="cash_crop">Cash Crops (Cotton, Sugarcane)</option>
                                    <option value="vegetable">Vegetables (High value)</option>
                                    <option value="oilseed">Oilseeds (Groundnut, Sunflower)</option>
                                    <option value="spice">Spices & Condiments</option>
                                    <option value="mixed" selected>Mixed farming</option>
                                </select>
                            </div>
                        </div>

                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Smart Recommendation:</strong> Our AI analyzes multiple factors including climate, soil conditions, 
                            market trends, and your farming experience to suggest the most suitable crops for your farm.
                        </div>

                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-success btn-lg px-5">
                                <i class="fas fa-magic me-2"></i>Get Crop Recommendations
                            </button>
                        </div>
                    </form>

                    <!-- Loading indicator -->
                    <div id="crop-loading" class="loading mt-4">
                        <div class="spinner-border text-success" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">Analyzing optimal crops for your conditions...</p>
                    </div>

                    <!-- Result container -->
                    <div id="crop-result" class="mt-4" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Benefits Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center mb-5">
                <h3 class="text-plant-primary">Why Choose Smart Crop Recommendation?</h3>
                <p class="text-muted">Make informed decisions for maximum profitability</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-chart-line fa-3x text-success mb-3"></i>
                        <h6>Higher Yields</h6>
                        <p class="small">Choose crops best suited for your conditions to maximize production.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-rupee-sign fa-3x text-warning mb-3"></i>
                        <h6>Better Profits</h6>
                        <p class="small">Optimize returns by selecting high-value crops suitable for your region.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                        <h6>Risk Reduction</h6>
                        <p class="small">Minimize crop failure risks by choosing climate-appropriate varieties.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-leaf fa-3x text-info mb-3"></i>
                        <h6>Sustainability</h6>
                        <p class="small">Promote sustainable farming with environmentally suitable crop choices.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
