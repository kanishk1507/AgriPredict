{% extends "base.html" %}

{% block title %}Crop Yield Prediction - AgriPredict{% endblock %}

{% block content %}
<section class="prediction-container">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="prediction-card">
                    <div class="text-center mb-4">
                        <h2 class="text-plant-primary">
                            <i class="fas fa-chart-line me-3"></i>Crop Yield Prediction
                        </h2>
                        <p class="text-muted">Enter your farm conditions to get accurate yield predictions</p>
                    </div>

                    <form id="yield-prediction-form">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="crop" class="form-label">Crop Type</label>
                                <select class="form-select" id="crop" name="crop" required>
                                    <option value="">Select Crop</option>
                                    <option value="Maize">Maize</option>
                                    <option value="Rice">Rice</option>
                                    <option value="Potatoes">Potatoes</option>
                                    <option value="Soybeans">Soybeans</option>
                                    <option value="Wheat">Wheat</option>
                                    <option value="Sorghum">Sorghum</option>
                                </select>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="rainfall" class="form-label">Annual Rainfall (mm)</label>
                                <input type="number" class="form-control" id="rainfall" name="rainfall" 
                                       placeholder="e.g., 800" min="0" max="5000" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="pesticide" class="form-label">Pesticide Usage (kg/ha)</label>
                                <input type="number" class="form-control" id="pesticide" name="pesticide" 
                                       placeholder="e.g., 150" min="0" max="1000" required>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="temperature" class="form-label">Average Temperature (Â°C)</label>
                                <input type="number" class="form-control" id="temperature" name="temperature" 
                                       placeholder="e.g., 25" min="-10" max="50" step="0.1" required>
                            </div>
                        </div>

                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="fas fa-calculator me-2"></i>Predict Yield
                            </button>
                        </div>
                    </form>

                    <!-- Loading indicator -->
                    <div id="yield-loading" class="loading mt-4">
                        <div class="spinner-border text-success" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">Analyzing your data...</p>
                    </div>

                    <!-- Result container -->
                    <div id="yield-result" class="mt-4" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
