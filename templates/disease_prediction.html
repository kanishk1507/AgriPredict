{% extends "base.html" %}

{% block title %}Disease Prediction - AgriPredict{% endblock %}

{% block content %}
<section class="prediction-container">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="prediction-card">
                    <div class="text-center mb-4">
                        <h2 class="text-plant-primary">
                            <i class="fas fa-bug me-3"></i>Disease Risk Prediction
                        </h2>
                        <p class="text-muted">Assess disease risk for your crops based on environmental conditions</p>
                    </div>

                    <form id="disease-prediction-form">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="crop" class="form-label">Crop Type</label>
                                <select class="form-select" id="crop" name="crop" required>
                                    <option value="">Select Crop</option>
                                    <option value="Maize">Maize</option>
                                    <option value="Rice">Rice</option>
                                    <option value="Potatoes">Potatoes</option>
                                    <option value="Soybeans">Soybeans</option>
                                    <option value="Wheat">Wheat</option>
                                    <option value="Tomatoes">Tomatoes</option>
                                    <option value="Cotton">Cotton</option>
                                </select>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="rainfall" class="form-label">Recent Rainfall (mm)</label>
                                <input type="number" class="form-control" id="rainfall" name="rainfall" 
                                       placeholder="e.g., 150" min="0" max="2000" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="temperature" class="form-label">Average Temperature (Â°C)</label>
                                <input type="number" class="form-control" id="temperature" name="temperature" 
                                       placeholder="e.g., 28" min="0" max="50" step="0.1" required>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="humidity" class="form-label">Humidity (%)</label>
                                <input type="number" class="form-control" id="humidity" name="humidity" 
                                       placeholder="e.g., 75" min="0" max="100" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="pesticide" class="form-label">Recent Pesticide Application (days ago)</label>
                                <select class="form-select" id="pesticide" name="pesticide">
                                    <option value="150">0-7 days (Recent)</option>
                                    <option value="100">8-14 days (Moderate)</option>
                                    <option value="50">15-30 days (Old)</option>
                                    <option value="25">30+ days (None/Very old)</option>
                                </select>
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="season" class="form-label">Current Season</label>
                                <select class="form-select" id="season" name="season">
                                    <option value="monsoon">Monsoon</option>
                                    <option value="post-monsoon">Post-Monsoon</option>
                                    <option value="winter">Winter</option>
                                    <option value="summer">Summer</option>
                                </select>
                            </div>
                        </div>

                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Tip:</strong> Higher humidity and moderate temperatures often increase disease risk. 
                            Regular monitoring is essential during monsoon season.
                        </div>

                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="fas fa-shield-alt me-2"></i>Assess Disease Risk
                            </button>
                        </div>
                    </form>

                    <!-- Loading indicator -->
                    <div id="disease-loading" class="loading mt-4">
                        <div class="spinner-border text-success" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">Analyzing disease risk factors...</p>
                    </div>

                    <!-- Result container -->
                    <div id="disease-result" class="mt-4" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Disease Prevention Tips -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center mb-4">
                <h3 class="text-plant-primary">Disease Prevention Tips</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-eye fa-3x text-success mb-3"></i>
                        <h5>Regular Monitoring</h5>
                        <p>Inspect crops weekly for early signs of disease symptoms.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-tint fa-3x text-primary mb-3"></i>
                        <h5>Proper Drainage</h5>
                        <p>Ensure good field drainage to prevent waterlogging.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-seedling fa-3x text-warning mb-3"></i>
                        <h5>Crop Rotation</h5>
                        <p>Practice crop rotation to break disease cycles.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
